syntax = "proto3";

package ding4;

option go_package = "github.com/4ding-cp/4dingsite/ptypes/m4g";

import "sql.proto";
import "google/protobuf/struct.proto";
import "google/protobuf/timestamp.proto";

// State => 1.待處理 2.已確認 3.退貨待審核 4.退貨已審核 5.已取消 6.已完成
// PaymentState => 1.未付款 2.付款失敗 3.已逾時 6.已付款 7.待退款 8.已退款
// LogisticsState 正常 => 1.待出貨 				3.出貨中 	4.已出貨 	5.已到店 	6.已取貨
// LogisticsState 換貨 => 11.待收貨 12.已收貨	13.出貨中	14.已出貨	15.已到店  	16.已取貨
// LogisticsState 逾時 => 21.待收貨 22.已收貨 -> 3...
// LogisticsState 退貨 => 31.待收貨 32.已收貨
// ReturnStatus 退換貨標記 => 1.申請退貨成功 2.申請退貨失敗 3.申請換貨成功 4.申請換貨失敗
message Order {
    string order_id = 1; 
    string store_id = 2;
    string sales_id = 3;
    string customer_id = 4;
    string name = 5;
    string email = 6;
    string phone = 7;
    bool is_customer = 8;
    string car_id = 9;
    string coupon_id = 10;
    int32 count = 11;
    int32 freight = 12;
    int32 amount = 13;
    double order_charge = 14;
    double sales_charge = 15;
    int32 payment_charge = 16;
    int32 logistics_charge = 17;

    int32 state = 18;
    int32 payment_state = 19;
    int32 logistics_state = 20;

    string payment_adapter = 21;
    string payment_service = 22;
    int32 payment_type = 23;
    
    string logistics_adapter = 24;
    string logistics_service = 25;
    int32 logistics_type = 26;
    int32 logistics_sub_type = 27;
    bool is_timeout = 28;

    string pickup_at = 29;
    string close_at = 30;
    string pay_at = 31;
    string pay_ip = 32;
    string city = 33;
    string device = 34;
    string remark = 35;
    OrderOther other = 36;
    repeated OrderCommomdity commodity = 37;

    map<string, int32> labelx = 38;
    string operator = 39;
    google.protobuf.Timestamp create_at = 40;
    google.protobuf.Timestamp update_at = 41;
    repeated string cols = 42;
    repeated Condition condition = 43;
    google.protobuf.Struct self = 44;
}

message OrderCommomdity {
    string order_id = 1;
    string store_id = 2;
    string product_id = 3;
    string sku = 4;
    string photo_src = 5;
    string name = 6;
    int32 amount = 7;
    int32 price = 8;
}

message ContactInfo {
    string name = 1;
    string phone = 2;
    string email = 3;
    string zip_code = 4;
    string address = 5;
    string cvs_code = 6;
    string cvs_type = 7;
    string cvs_name = 8;
    string cvs_address = 9;
}

message OrderOther {
    string payment_no = 1;
    string pay_ip = 2;
    string pay_at = 3;
    int32 expire_day = 4;
    // ATM 付款資運
    string bank_code = 5;
    string bank_account = 6;
    // CVS 付款資訊
    string cvs_no = 7;
    
    string logistics_no = 8;

    ContactInfo sender = 9;
    ContactInfo receiver = 10;
}

message OrderBatch {
    int32 state = 1;
    int32 payment_state = 2;
    int32 logistics_state = 3;
    repeated Order order = 4;
    google.protobuf.Struct self = 5;
}

// 金流相關 採用第三方參數固為大頭鋒命名而非 _命名
message Payment {
    // 選擇網址
    string Redirect = 1;
    // 交易狀態
	string RtnCode = 2;     
    // 交易訊息 
	string RtnMsg = 3;      
    // 第三方金流編號
	string TradeNo = 4;      
    // 交易金額
	string TrandAmt = 5;    
    // 付款方式 
	string PaymentType = 6; 
    // 成立時間
	string TradeDate = 7;    
    // 繳費到期日
	string ExpireDate = 8;   
	// ATM 條碼
     // 繳費銀行代碼
	string BankCode = 9;  
     // 繳費虛擬帳號
	string vAccount = 10;
    // 超商bon 列印條碼
	string PaymentNo = 11; 
    // 超商繳費條碼123
	string Barcode1 = 12;  
	string Barcode2 = 13;  
	string Barcode3 = 14; 

    google.protobuf.Struct self = 15;
}
// 物流相關 採用第三方參數固為大頭鋒命名而非 _命名
message Logistics {
    // 等待編號
    string RenderID = 1;
    // 選擇網址
    string Redirect = 2;

    // 物流狀態
	string RtnCode = 3;       
    // 物流訊息    
	string RtnMsg = 4;        
    // 第三方物流編號
	string AllPayLogisticsID = 5;  
    // 物流類型
	string LogisticsType = 6;  
    // 物流子類型
	string LogisticsSubType = 7;   
    // 貨物遺失賠償依據
	string GoodsAmount = 8;   
    // 剛新狀態時間
	string UpdateStatusDate = 9;   
	// 寄件者
	string SenderName = 10;
	string SenderPhone = 11; 
	string SenderCellPhone = 12; 
	string SenderZipCode = 13;
	string SenderAddress = 14; 
	// 收件者
    // 收件者名稱
	string ReceiverName = 15;  
    // 收件者電話
	string ReceiverPhone = 16; 
	string ReceiverCellPhone = 17; 
    // 收件者電子郵件
	string ReceiverEmail = 18;
    // 收件者郵遞區號
	string ReceiverZipCode = 19;
    // 收件者地址
	string ReceiverAddress = 20;
	// 超商取貨資訊
    // 超商門市編號
	string CVSStoreID = 21;
    // 超商門市名稱
	string CVSStoreName = 22;   
    // 超商門市地址
	string CVSAddress = 23;  
    // 超商門市電話
	string CVSTelephone = 24;    
    // 超商門市位置 0:本島 1:離島
	string CVSOutSide = 25;   
    // 寄貨編號
	string CVSPaymentNo = 26;  
    // 驗證碼
	string CVSValidationNo= 27;  
    // 01:取件門市更新 02:退件門市更新
	string StoreType = 28; 
    // 選取門市無效 01-04
	string Status = 29; 
	// 宅配資訊
    // 溫層 0001:常溫 0002:冷藏 0003:冷凍
	string Temperature = 30; 
    // 距離 00:同縣市 01:外縣市 02:離島    
	string Distance = 31;    
      // 規格 0001:60cm 0002:90cm 0003:120cm 0004:150cm
	string Specification = 32;         
    // 預定取件時段
	string ScheduledPickupTime = 33;     
    // 預定送達時段
	string ScheduledDeliveryTime= 34;    
    // 指定送達日
	string ScheduledDeliveryDate= 35;   
    // 託運單號 
	string BookingNode = 36;       

    google.protobuf.Struct self = 37;     
}
