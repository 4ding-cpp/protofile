syntax = "proto3";

package ding4;

option go_package = "github.com/4ding-cp/4dingsite/ptypes/drpc";

import "sql.proto";
import "password.proto";
import "business.proto";
import "point.proto";
import "manager.proto";
import "linker.proto";
import "customer.proto";
import "product.proto";
import "label.proto";
import "image.proto";
import "store.proto";
import "remind.proto";
import "order.proto";
import "stack.proto";
import "supplier.proto";
import "setting.proto";

service BusinessRPC {
    rpc WhoAmI(Query) returns (Response);
    rpc ChangePassword(Password) returns (Response);
    rpc ChangeInfo(Business) returns (Response);
    rpc ChangeWhitelist(Business) returns (Response);
    rpc FindPermission(Query) returns (Response);
    rpc FindRecord(Query) returns (Response);
    rpc FindSign(Query) returns (Response);

    rpc CreatePoint(Point) returns (Response);
    rpc CancelPoint(Point) returns (Response);
    rpc ConfirmPoint(Point) returns (Response);
    rpc ConfirmPointBill(PointBill) returns (Response);
    rpc FindPoint(Query) returns (Response);
    rpc FindPointFlow(Query) returns (Response);
    rpc FindPointBill(Query) returns (Response);
    rpc FindPointDetail(Query) returns (Response);
    
    rpc CreateBusiness(Business) returns (Response);
    rpc UpdateBusiness(Business) returns (Response);
    rpc FindBusiness(Query) returns (Response);
    rpc RecordBusiness(Business) returns (Response);
    rpc SignBusiness(Business) returns (Response);

    rpc ExistsManager(Manager) returns (Response);
    rpc CreateManager(Manager) returns (Response);
    rpc UpdateManager(Manager) returns (Response);
    rpc FindManager(Query) returns (Response);
    rpc RecordManager(Manager) returns (Response);
    rpc SignManager(Manager) returns (Response);

    rpc CreateLabel(Label) returns (Response);
    rpc UpdateLabel(Label) returns (Response);
    rpc DeleteLabel(Label) returns (Response);
    rpc AppendLabel(Label) returns (Response);
    rpc SubtractLabel(Label) returns (Response);
    rpc FindLabel(Query) returns (Response);
    rpc RecordLabel(Label) returns (Response);

    rpc CreateLinker(Linker) returns (Response);
    rpc UpdateLinker(Linker) returns (Response);
    rpc FindLinker(Query) returns (Response);    
    rpc RecordLinker(Linker) returns (Response);

    rpc ExistsCustomer(Customer) returns (Response);
    rpc CreateCustomer(Customer) returns (Response);
    rpc UpdateCustomer(Customer) returns (Response);
    rpc FindCustomer(Query) returns (Response);
    rpc RecordCustomer(Customer) returns (Response);
    rpc SignCustomer(Customer) returns (Response);
    rpc UploadCustomer(CustomerBatch) returns (Response);

    // 檢視圖庫
    rpc FindImage(Query) returns (Response);

    rpc CreateProduct(Product) returns (Response);
    rpc UpdateProduct(Product) returns (Response);
    rpc FindProduct(Query) returns (Response);
    rpc RecordProduct(Product) returns (Response);
    rpc CreateProductImage(Image) returns (Response);
    rpc UpdateProductImage(Image) returns (Response);
    rpc DeleteProductImage(Image) returns (Response);

    rpc CreateProductSpec(ProductSpec) returns (Response);
    rpc UpdateProductSpec(ProductSpec) returns (Response);
    rpc FindProductSpec(Query) returns (Response);
    rpc RecordProductSpec(ProductSpec) returns (Response);
    rpc CreateProductSpecImage(Image) returns (Response);
    rpc UpdateProductSpecImage(Image) returns (Response);
    rpc DeleteProductSpecImage(Image) returns (Response);    

    rpc RegisterStore(Store) returns (Response);
    rpc OpenStore(Store) returns (Response);
    rpc CreateStore(Store) returns (Response);
    rpc UpdateStore(Store) returns (Response);
    rpc FindStore(Query) returns (Response);
    rpc RecordStore(Store) returns (Response);

    rpc CreateRemind(Remind) returns (Response);
    rpc UpdateRemind(Remind) returns (Response);
    rpc FindRemind(Query) returns (Response);
    rpc RecordRemind(Remind) returns (Response);

    rpc CreateOrder(Order) returns (Response);
    rpc PaymentOrder(Order) returns (Response);
    rpc FindOrder(Query) returns (Response);
    rpc RecordOrder(Order) returns (Response);

    rpc CreateStack(Stack) returns (Response);
    rpc FindStack(Query) returns (Response);
    rpc FindProductStack(Query) returns (Response);
    rpc FindSpecStack(Query) returns (Response);

    rpc CreateSupplier(Supplier) returns (Response);
    rpc UpdateSupplier(Supplier) returns (Response);
    rpc FindSupplier(Query) returns (Response);
    rpc RecordSupplier(Supplier) returns (Response);

    rpc CreateSetting(Setting) returns (Response);
    rpc UpdateSetting(Setting) returns (Response);
    rpc DeleteSetting(Setting) returns (Response);
    rpc FindSetting(Query) returns (Response);
    rpc RecordSetting(Setting) returns (Response);
}