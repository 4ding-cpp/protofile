syntax = "proto3";

package ding4;

option go_package = "github.com/4ding-cp/4dingsite/ptypes/m4g";

import "sql.proto";
import "google/protobuf/struct.proto";


message QueryRp {
    string eq = 1; // 等於
	string ne = 2; // 不等於
	string lt = 3; // 小於
	string lte = 4; // 小於等於
	string gt = 5; // 大於
	string gte = 6; // 大於等於
	repeated string in = 7; // in
}

message PaymentRp {
    message Query {
        QueryRp create_at = 1;
        QueryRp close_at = 2;
        QueryRp state = 3;
        QueryRp store_id = 4;
        QueryRp payment_service = 5;
        QueryRp payment_type = 6;
        QueryRp logistics_service = 7;
        QueryRp logistics_type = 8;    
    }
    message Data {
        string create_at = 1;
        string pickup_at = 2;
        string close_at = 3;
        int32 price = 4;
        string payment_service = 5;
        int32 payment_type = 6;
        string logistics_service = 7;
        int32 logistics_type = 8;
        string device = 9;
        double percentage = 10;    
    }
    message Analysis {
        int32 total = 1;
        map<string, int32> create_at_date = 2;
        map<string, int32> create_at_hour = 3;
        map<string, int32> close_at_date = 4;
        map<string, int32> payment_type = 5;
        map<string, int32> logistics_type = 6;
        map<string, int32> city = 7;
        map<string, int32> device = 8;
    }
    bool get_analysis = 1;
    Query query = 2;
    repeated Data data = 3;
    Analysis as = 4;
    PageLimit page_limit = 5;
    google.protobuf.Struct self = 6;
}


message CustomerRp {
    message Query {
        QueryRp name = 1;
        QueryRp email = 2;
        QueryRp phone = 3;
        QueryRp amount = 4;
        QueryRp price = 5;
    } 
    message Data {
        string name = 1;
        string email = 2;
        string phone = 3;
        int32 amount = 4;
        double amount_percent = 5;
        int32 price = 6;
        double price_percent = 7;
    }
    string group = 1;
    Query query = 2;
    repeated Data data = 3;
    PageLimit page_limit = 4;
    google.protobuf.Struct self = 5;
}

message ProductRp {
    message Query {
        QueryRp create_at = 1;
        QueryRp close_at = 2;
        QueryRp business_id = 3;
        QueryRp store_id = 4;
        QueryRp product_id = 5;
        QueryRp sku = 6;
        QueryRp amount = 7;
        QueryRp price = 8;
    } 
    message Data {
        string name = 1;
        string email = 2;
        string phone = 3;
        int32 amount = 4;
        double amount_percent = 5;
        int32 price = 6;
        double price_percent = 7;
    }
    string group = 1;
    Query query = 2;
    repeated Data data = 3;
    PageLimit page_limit = 4;
    google.protobuf.Struct self = 5;
}