syntax = "proto3";

package ding4;

option go_package = "github.com/4ding-cp/4dingsite/ptypes/m4g";

import "sql.proto";
import "google/protobuf/struct.proto";


message QueryRp {
    string eq = 1; // 等於
	string ne = 2; // 不等於
	string lt = 3; // 小於
	string lte = 4; // 小於等於
	string gt = 5; // 大於
	string gte = 6; // 大於等於
	repeated string in = 7; // in
}

message PaymentRp {
    message Query {
        QueryRp create_at = 1;
        QueryRp close_at = 2;
        QueryRp state = 3;
        QueryRp store_id = 4;
        QueryRp payment_service = 5;
        QueryRp payment_type = 6;
        QueryRp logistics_service = 7;
        QueryRp logistics_type = 8;    
    }
    message Data {
        string create_at = 1;
        string pickup_at = 2;
        string close_at = 3;
        int32 price = 4;
        string payment_service = 5;
        int32 payment_type = 6;
        string logistics_service = 7;
        int32 logistics_type = 8;
        string device = 9;
        double percentage = 10;    
    }
    message Analysis {
        int32 total = 1;
        map<string, int32> create_at_date = 2;
        map<string, int32> create_at_hour = 3;
        map<string, int32> close_at_date = 4;
        map<string, int32> payment_type = 5;
        map<string, int32> logistics_type = 6;
        map<string, int32> city = 7;
        map<string, int32> device = 8;
    }
    bool get_analysis = 1;
    repeated Sort sort = 2;
    Query query = 3;
    repeated Data data = 4;
    Analysis as = 5;
    PageLimit page_limit = 6;
    google.protobuf.Struct self = 7;
}


message CustomerRp {
    message Query {
        string business_id = 1;
        string store_id = 2;
        string customer_id = 3;
        QueryRp create_at = 4;
        QueryRp close_at = 5;
        QueryRp state = 6;
        QueryRp email = 7;
        QueryRp phone = 8;
        QueryRp count = 9;
        QueryRp amount = 10;
        QueryRp price = 11;
    } 
    message Data {
        string customer_id = 1;
        string name = 2;
        string email = 3;
        string phone = 4;
        int32 count = 5;
        double count_percent = 6;
        int32 amount = 7;
        double amount_percent = 8;
        int32 price = 9;
        double price_percent = 10;
        string level_id = 11;
        map<string, int32> labelx = 12;
    }
    repeated string group = 1;
    repeated Sort sort = 2;
    Query query = 3;
    repeated Data data = 4;
    PageLimit page_limit = 5;
    google.protobuf.Struct self = 6;
}

message ProductRp {
    message Query {
        bool closed = 1;
        string business_id = 2;
        string store_id = 3;
        string product_id = 4;
        QueryRp create_at = 5;
        QueryRp close_at = 6;
        QueryRp sku = 7;
        QueryRp count = 8;
        QueryRp amount = 9;
        QueryRp price = 10;
    } 
    message Data {
        string product_id = 1;
        string photo_src = 2;
        string name = 3;
        string sku = 4;
        int32 count = 5;
        double count_percent = 6;
        int32 amount = 7;
        double amount_percent = 8;
        int32 price = 9;
        double price_percent = 10;
    }
    repeated string group = 1;
    repeated Sort sort = 2;
    Query query = 3;
    repeated Data data = 4;
    PageLimit page_limit = 5;
    google.protobuf.Struct self = 6;
}